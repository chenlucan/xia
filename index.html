<!DOCTYPE html>
<html>
<head>
  <title>Xia</title>
  <script type="text/javascript" src="test_import.js"></script>
</head>
<body>
<script type="text/javascript">
  require('./test_nodectx.js');
	// it use Default as data home
	console.log('default data home: ', nw.App.dataPath);
	var path = require('path');
	// we use pantry as our data home
	console.log('app home: ', path.dirname(nw.App.dataPath));

	var data_home = path.join(path.dirname(nw.App.dataPath), 'pantry');
	console.log('our data home: ', data_home);


////////////////////////////////////////////////////////
//1. Setup Pantry
	var fs = require('fs');
	SetUpPantry();

	function SetUpPantry() {
		fs.mkdir(data_home, function(err) {
			if (!err) {
				var photos_home = path.join(data_home, 'photos');
				var db_home     = path.join(data_home, 'db');

				fs.mkdir(photos_home, function(err) {});
				fs.mkdir(db_home, function(err) {});
			}
		});
	}

///////////////////////////////////////////////////////
//2. Retrieve existing pantry storage
  var pantry = require('./pantry.js');
  pantry.GetAll(OnDataMessage);

  function OnDataMessage(msg) {
    // common data message
    // now you may feed into data presentation
  }

////////////////////////////////////////////////////////
//3. Data presentaion is to be done


///////////////////////////////////////////////////////
//4. FileManager is setup and ready for exploring media
//   it should return common data message


////////////////////////////////////////////////////////
// 5. import FileManager found data message into Pantry


</script>
</body>
</html>
